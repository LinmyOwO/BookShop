{% extends 'base.html' %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css')}}" />
{% endblock %}

{% block body %}
<div id="carouselExampleControls1" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{{ url_for('static', filename='public/news1.png') }}" class="d-block w-100 img-fluid" height="300px" alt="..." >
    </div>
    <div class="carousel-item">
      <img src="{{ url_for('static', filename='public/news2.png') }}" class="d-block w-100" alt="...">
    </div>
    <div class="carousel-item">
      <img src="{{ url_for('static', filename='public/news3.png') }}" class="d-block w-100" alt="...">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls1" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Предыдущий</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls1" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Следующий</span>
  </button>
</div>
<h2 class="text-center my-5">Новинки</h2>
<div style="background-color: #463E50;">
    <div class="container">
        <div class="row">
            <div class="col-12 mb-5"><h2>{{ genre }}</h2></div>
            {% for book in new_books %}
                <div class="col-3 mb-3">
                    <a href="{{ url_for('book', book_id=book.id) }}" class="link-dark link-underline link-underline-opacity-0">
                        <div class="card">
                          <img src="{{ url_for('static', filename='/books/' + book.image_url) }}" class="card-img-top img-fluid" alt="...">
                          <div class="card-body">
                            <h5 class="card-title">{{ book.name }}</h5>
                            <p class="card-text">{{ book.description[:75] + '...' }}</p>
                            <h5 class="card-title">Цена: {{ book.price }} руб.</h5>
                          </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
